{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sagardalal/Desktop/Desktop/ReactJS/social-app-github/src/components/comment-input/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport \"./style.css\";\nimport { UserContext } from \"../../contexts/user\";\nimport { db } from \"../../firebase\";\nimport { DarkModeContext } from \"../../contexts/darkmode\";\nexport default function CommentInput({\n  comments,\n  id\n}) {\n  _s();\n\n  const [comment, setComment] = useState(\"\");\n  const [user, setUser] = useContext(UserContext).user;\n  const [commentArray, setCommentArray] = useState(comments ? comments : []);\n  const [DarkMode, setDarkMode] = useContext(DarkModeContext).DarkMode;\n  var commentInput__btnCss = \"commentInput__btn\";\n  var commentInput__textarea = \"commentInput__textarea\";\n\n  if (DarkMode) {\n    commentInput__textarea = \"commentInput__textarea dark\";\n    commentInput__btnCss = \"commentInput__btn dark\";\n  }\n\n  const addComment = () => {\n    if (comment != \"\") {\n      //add comment to the post info\n      commentArray.push({\n        comment: comment,\n        username: user.email.replace(\"@gmail.com\", \"\").toLowerCase()\n      });\n      db.collection(\"posts\").doc(id).update({\n        comments: commentArray\n      }).then(function () {\n        setComment(\"\");\n        console.log(\"comment added\");\n      }).catch(function (error) {\n        console.log(`Error ${error}`);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"commentInput\",\n    children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n      className: commentInput__textarea,\n      rows: \"1\",\n      placeholder: \"write a comment..\",\n      value: comment,\n      onChange: e => setComment(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addComment,\n      className: commentInput__btnCss,\n      children: \"Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CommentInput, \"56O0eS3xp6Gt9t+itNI5BXLIpmk=\");\n\n_c = CommentInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommentInput\");","map":{"version":3,"sources":["/Users/sagardalal/Desktop/Desktop/ReactJS/social-app-github/src/components/comment-input/index.js"],"names":["React","useContext","useState","UserContext","db","DarkModeContext","CommentInput","comments","id","comment","setComment","user","setUser","commentArray","setCommentArray","DarkMode","setDarkMode","commentInput__btnCss","commentInput__textarea","addComment","push","username","email","replace","toLowerCase","collection","doc","update","then","console","log","catch","error","e","target","value"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAO,aAAP;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,EAAT,QAAmB,gBAAnB;AACA,SAASC,eAAT,QAAgC,yBAAhC;AAEA,eAAe,SAASC,YAAT,CAAsB;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAtB,EAAwC;AAAA;;AACrD,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;AAEA,QAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBX,UAAU,CAACE,WAAD,CAAV,CAAwBQ,IAAhD;AACA,QAAM,CAACE,YAAD,EAAeC,eAAf,IAAkCZ,QAAQ,CAACK,QAAQ,GAAGA,QAAH,GAAc,EAAvB,CAAhD;AAEA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0Bf,UAAU,CAACI,eAAD,CAAV,CAA4BU,QAA5D;AACA,MAAIE,oBAAoB,GAAG,mBAA3B;AACA,MAAIC,sBAAsB,GAAG,wBAA7B;;AACA,MAAIH,QAAJ,EAAc;AACZG,IAAAA,sBAAsB,GAAG,6BAAzB;AACAD,IAAAA,oBAAoB,GAAG,wBAAvB;AACD;;AAED,QAAME,UAAU,GAAG,MAAM;AACvB,QAAIV,OAAO,IAAI,EAAf,EAAmB;AACjB;AACAI,MAAAA,YAAY,CAACO,IAAb,CAAkB;AAChBX,QAAAA,OAAO,EAAEA,OADO;AAEhBY,QAAAA,QAAQ,EAAEV,IAAI,CAACW,KAAL,CAAWC,OAAX,CAAmB,YAAnB,EAAiC,EAAjC,EAAqCC,WAArC;AAFM,OAAlB;AAKApB,MAAAA,EAAE,CAACqB,UAAH,CAAc,OAAd,EACGC,GADH,CACOlB,EADP,EAEGmB,MAFH,CAEU;AACNpB,QAAAA,QAAQ,EAAEM;AADJ,OAFV,EAKGe,IALH,CAKQ,YAAY;AAChBlB,QAAAA,UAAU,CAAC,EAAD,CAAV;AACAmB,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACD,OARH,EASGC,KATH,CASS,UAAUC,KAAV,EAAiB;AACtBH,QAAAA,OAAO,CAACC,GAAR,CAAa,SAAQE,KAAM,EAA3B;AACD,OAXH;AAYD;AACF,GArBD;;AAsBA,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,4BACE;AACE,MAAA,SAAS,EAAEd,sBADb;AAEE,MAAA,IAAI,EAAC,GAFP;AAGE,MAAA,WAAW,EAAC,mBAHd;AAIE,MAAA,KAAK,EAAET,OAJT;AAKE,MAAA,QAAQ,EAAGwB,CAAD,IAAOvB,UAAU,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV;AAL7B;AAAA;AAAA;AAAA;AAAA,YADF,eAQE;AAAQ,MAAA,OAAO,EAAEhB,UAAjB;AAA6B,MAAA,SAAS,EAAEF,oBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAcD;;GAlDuBX,Y;;KAAAA,Y","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport \"./style.css\";\nimport { UserContext } from \"../../contexts/user\";\nimport { db } from \"../../firebase\";\nimport { DarkModeContext } from \"../../contexts/darkmode\";\n\nexport default function CommentInput({ comments, id }) {\n  const [comment, setComment] = useState(\"\");\n\n  const [user, setUser] = useContext(UserContext).user;\n  const [commentArray, setCommentArray] = useState(comments ? comments : []);\n\n  const [DarkMode, setDarkMode] = useContext(DarkModeContext).DarkMode;\n  var commentInput__btnCss = \"commentInput__btn\";\n  var commentInput__textarea = \"commentInput__textarea\";\n  if (DarkMode) {\n    commentInput__textarea = \"commentInput__textarea dark\";\n    commentInput__btnCss = \"commentInput__btn dark\";\n  }\n\n  const addComment = () => {\n    if (comment != \"\") {\n      //add comment to the post info\n      commentArray.push({\n        comment: comment,\n        username: user.email.replace(\"@gmail.com\", \"\").toLowerCase(),\n      });\n\n      db.collection(\"posts\")\n        .doc(id)\n        .update({\n          comments: commentArray,\n        })\n        .then(function () {\n          setComment(\"\");\n          console.log(\"comment added\");\n        })\n        .catch(function (error) {\n          console.log(`Error ${error}`);\n        });\n    }\n  };\n  return (\n    <div className=\"commentInput\">\n      <textarea\n        className={commentInput__textarea}\n        rows=\"1\"\n        placeholder=\"write a comment..\"\n        value={comment}\n        onChange={(e) => setComment(e.target.value)}\n      ></textarea>\n      <button onClick={addComment} className={commentInput__btnCss}>\n        Post\n      </button>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}