{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/sagardalal/Desktop/Desktop/ReactJS/social-app-github/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import{Post}from\"..\";import{DarkModeContext}from\"../../contexts/darkmode\";import{db}from\"../../firebase\";import\"./style.css\";export default function Feed(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useContext$DarkMode=_slicedToArray(useContext(DarkModeContext).DarkMode,2),DarkMode=_useContext$DarkMode[0],setDarkMode=_useContext$DarkMode[1];var feedCss=\"feed\";if(DarkMode){feedCss=\"feed dark\";}useEffect(function(){db.collection(\"posts\").onSnapshot(function(snapshot){console.log(snapshot.docs);setPosts(snapshot.docs.map(function(doc){return{id:doc.id,post:doc.data()};}));});},[]);return/*#__PURE__*/_jsx(\"div\",{className:feedCss,children:posts.map(function(_ref){var id=_ref.id,post=_ref.post;return/*#__PURE__*/_jsx(Post,{id:id,profileUrl:post.profileUrl,username:post.username,photoUrl:post.photoUrl,caption:post.caption,comments:post.comments},id);})});}","map":{"version":3,"sources":["/Users/sagardalal/Desktop/Desktop/ReactJS/social-app-github/src/containers/feed/index.js"],"names":["React","useContext","useEffect","useState","Post","DarkModeContext","db","Feed","posts","setPosts","DarkMode","setDarkMode","feedCss","collection","onSnapshot","snapshot","console","log","docs","map","doc","id","post","data","profileUrl","username","photoUrl","caption","comments"],"mappings":"6NAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,OAASC,IAAT,KAAqB,IAArB,CACA,OAASC,eAAT,KAAgC,yBAAhC,CACA,OAASC,EAAT,KAAmB,gBAAnB,CACA,MAAO,aAAP,CAEA,cAAe,SAASC,CAAAA,IAAT,EAAgB,eACHJ,QAAQ,CAAC,EAAD,CADL,wCACtBK,KADsB,eACfC,QADe,uDAEGR,UAAU,CAACI,eAAD,CAAV,CAA4BK,QAF/B,IAEtBA,QAFsB,yBAEZC,WAFY,yBAG7B,GAAIC,CAAAA,OAAO,CAAG,MAAd,CACA,GAAIF,QAAJ,CAAc,CACZE,OAAO,CAAG,WAAV,CACD,CAEDV,SAAS,CAAC,UAAM,CACdI,EAAE,CAACO,UAAH,CAAc,OAAd,EAAuBC,UAAvB,CAAkC,SAACC,QAAD,CAAc,CAC9CC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACAT,QAAQ,CAACM,QAAQ,CAACG,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,QAAU,CAAEC,EAAE,CAAED,GAAG,CAACC,EAAV,CAAcC,IAAI,CAAEF,GAAG,CAACG,IAAJ,EAApB,CAAV,EAAlB,CAAD,CAAR,CACD,CAHD,EAID,CALQ,CAKN,EALM,CAAT,CAOA,mBACE,YAAK,SAAS,CAAEX,OAAhB,UACGJ,KAAK,CAACW,GAAN,CAAU,cAAkB,IAAfE,CAAAA,EAAe,MAAfA,EAAe,CAAXC,IAAW,MAAXA,IAAW,CAC3B,mBACE,KAAC,IAAD,EAEE,EAAE,CAAED,EAFN,CAGE,UAAU,CAAEC,IAAI,CAACE,UAHnB,CAIE,QAAQ,CAAEF,IAAI,CAACG,QAJjB,CAKE,QAAQ,CAAEH,IAAI,CAACI,QALjB,CAME,OAAO,CAAEJ,IAAI,CAACK,OANhB,CAOE,QAAQ,CAAEL,IAAI,CAACM,QAPjB,EACOP,EADP,CADF,CAWD,CAZA,CADH,EADF,CAiBD","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { Post } from \"..\";\nimport { DarkModeContext } from \"../../contexts/darkmode\";\nimport { db } from \"../../firebase\";\nimport \"./style.css\";\n\nexport default function Feed() {\n  const [posts, setPosts] = useState([]);\n  const [DarkMode, setDarkMode] = useContext(DarkModeContext).DarkMode;\n  var feedCss = \"feed\";\n  if (DarkMode) {\n    feedCss = \"feed dark\";\n  }\n\n  useEffect(() => {\n    db.collection(\"posts\").onSnapshot((snapshot) => {\n      console.log(snapshot.docs);\n      setPosts(snapshot.docs.map((doc) => ({ id: doc.id, post: doc.data() })));\n    });\n  }, []);\n\n  return (\n    <div className={feedCss}>\n      {posts.map(({ id, post }) => {\n        return (\n          <Post\n            key={id}\n            id={id}\n            profileUrl={post.profileUrl}\n            username={post.username}\n            photoUrl={post.photoUrl}\n            caption={post.caption}\n            comments={post.comments}\n          />\n        );\n      })}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}